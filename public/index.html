<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta property="og:title" content="Pact">
    <meta property="og:description" content="Find out what's waiting for you in the future.">
    <meta property="og:site_name" content="Pact"/>
    <title>Pact</title>
    <style type="text/css" media="screen">
        body {
            background-image: url(images/background.jpg);
            background-repeat: no-repeat;
            background-position: 50% 0;

            font-family: Arial, Helvetica, sans-serif;
        }

        button {
            outline: none;

            cursor: pointer;
        }

        .header {
            text-align: center;
            color: #f7ae44;
            font-size: 36px;
            position: absolute;
            width: 100%;
            bottom: 200px;
        }

        .facebook-button {
            position: absolute;

            left: calc(50% - 180px);
            bottom: 125px;

            font-size: 21px;
            font-weight: bold;
            color: #fff;
            background: blue;
            border: none;

            width: 360px;
            height: 63px;

            margin: 0;
            padding: 10px 37px 10px 88px;

            background: url(images/fb-button.png) no-repeat;
        }

        .facebook-button:hover {
            background: url(images/fb-button-active.png) no-repeat;
        }

        .footer {
            background-image: url(images/logo.png);
            background-repeat: no-repeat;
            background-position: 50% 0;

            padding: 60px 0 15px 0;

            text-align: center;
            position: absolute;
            bottom: 0;
            width: 100%;
            color: #4a4f5a;
            font-weight: bold;
            font-size: 14px;

            z-index: -10;
        }

        .profile-photo {
            width: 391px;
            height: 391px;

            border: 6px solid #fdb852;

            box-sizing: border-box;

            background: #000;
        }

        .orange-button {
            color: #262930;

            font-weight: 600;
            font-size: 21px;

            height: 55px;

            box-sizing: border-box;

            border-style: solid;
            border-width: 2px;
            border-color: rgb(20, 21, 25);
            border-radius: 4px;
            background-image: -moz-linear-gradient( -90deg, rgb(255,186,86) 0%, rgb(247,174,68) 100%);
            background-image: -webkit-linear-gradient( -90deg, rgb(255,186,86) 0%, rgb(247,174,68) 100%);
            background-image: -ms-linear-gradient( -90deg, rgb(255,186,86) 0%, rgb(247,174,68) 100%);
        }

        .blue-button {
            color: #ffffff;

            font-weight: 600;
            font-size: 21px;

            box-sizing: border-box;

            border-style: solid;
            border-width: 2px;
            border-color: rgb(6, 29, 78);
            border-radius: 4px;

            background-image: -moz-linear-gradient( -90deg, rgb(34,78,171) 0%, rgb(34,78,171) 0%, rgb(26,66,151) 100%);
            background-image: -webkit-linear-gradient( -90deg, rgb(34,78,171) 0%, rgb(34,78,171) 0%, rgb(26,66,151) 100%);
            background-image: -ms-linear-gradient( -90deg, rgb(34,78,171) 0%, rgb(34,78,171) 0%, rgb(26,66,151) 100%);

            height: 55px;
        }

        .know-future-button {
            width: 391px;
        }

        .got-pact-button {
            width: 247px;
        }

        .share-it-button {
            width: 125px;
        }

        .transparent-button {
            background: transparent;
            color: #fdb852;
            border: 3px solid #fdb852;

            border-radius: 3px;

            width: 157px;

            font-weight: 600;
            font-size: 14px;

            padding: 12px;

            box-sizing: border-box;
        }

        .screen {
            box-sizing: border-box;

            position: absolute;

            left: 50%;
            right: 50%;
            top: 15%;
        }

        .no-face {
            color: #fdb852;
            text-align: center;

            margin: 0;
            min-width: 391px;
            min-height: 55px;

            display: table;
        }

        .no-face > p {
            display: table-cell;
            vertical-align: middle;
            margin: 0;
            padding: 0;
        }

        .spacer {
            height: 19px;
            width: 19px;
        }

        .horizontal {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .vertical {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body ng-cloak>

<div ng-controller="AppCtrl">
    <div ng-if="screenIndex === 0" ng-controller="WelcomeScreenCtrl">
        <!-- Add cup, spoon, lemon, sugar -->
        <h1 class="header">
            Find out what's waiting for you in the future.<br>
            Just sign in via Facebook
        </h1>

        <button class="facebook-button" ng-click="signIn()" ng-disabled="loading">
            {{ loading ? 'Please, wait...' : 'Sign in via Facebook' }}
        </button>
    </div>

    <div class="vertical screen" ng-if="screenIndex === 1" ng-controller="MainScreenCtrl">
        <img ng-src="{{pictureModel.picture}}" alt="Profile picture" class="profile-photo" ng-controller="PictureCtrl">

        <div class="spacer"></div>

        <div class="vertical" ng-if="!faceFound">
            <button ng-controller="KnowFutureCtrl" ng-if="!error" ng-click="knowFuture()" class="orange-button know-future-button" ng-disabled="loading">
                {{ loading ? 'Detecting face...' : 'Know future' }}
            </button>

            <div class="no-face" ng-if="error">
                <p>
                    We predict the future in the eyes (not cats),<br>
                    so they are clearly seen
                </p>
            </div>

            <div class="spacer"></div>

            <button ng-controller="ChangePhotoCtrl" ng-click="changePhoto()" class="transparent-button">
                Change photo
            </button>
        </div>

        <div class="vertical" ng-if="faceFound">
            <div class="horizontal">
                <button ng-controller="ShareCtrl" class="blue-button share-it-button" ng-click="share()">{{ sharing ? 'Sharing...' : 'Share it' }}</button>
                <div class="spacer"></div>
                <button class="orange-button got-pact-button">Got Pact right now</button>
            </div>
            <div class="spacer"></div>
            <button class="transparent-button" ng-click="tryAgain()">Try again</button>
        </div>
    </div>
</div>

<footer class="footer">
    Unofficial advertisement Pact Coffee
</footer>

<script src="vendors/angular/angular.js"></script>
<script src="vendors/angular-animate/angular-animate.js"></script>
<script src="scripts/bundle.js"></script>

<script>
    window.fbAsyncInit = function() {
        window.FB.init({
            appId: '407209469457107',
            cookie: true,
            xfbml: false,
            fileUpload: true,
            version: 'v2.1'
        });

        angular.bootstrap(window.document, [ 'pact' ]);
    };

    // Load the SDK asynchronously
    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
</body>
</html>